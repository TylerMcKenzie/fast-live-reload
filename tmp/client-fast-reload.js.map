{"version":3,"sources":["../src/client/_wrap-before.js","../src/client/ajax-call.js","../src/client/parameter-parser.js","../src/client/update-notifier.js","../src/client/client-main.js","../src/client/_wrap-after.js"],"names":[],"mappings":"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","file":"client-fast-reload.js","sourcesContent":["(function() { // don't pollute the environment.\n\n","/**\n * AjaxCall - A class that performs an AJAX call, and invokes the given callbacks.\n * @param {string} url\n * @return {void}\n */\nfunction AjaxCall(url) {\n    this.url = url;\n}\n\n/**\n * execute - Executes the actual AJAX call.\n * @return {void}\n */\nAjaxCall.prototype.execute = function(callback, errorCallback) {\n    var request = new XMLHttpRequest(),\n        callbackCalled = false; // error callback check, so we don't double call it.\n\n    try {\n        request.onreadystatechange = function() {\n            if (request.readyState == 4) {\n                if (parseInt(request.status / 100) == 2) {\n                    callback();\n                } else {\n                    callbackCalled = callbackCalled || errorCallback();\n                }\n            }\n        }\n\n        request.open(\"GET\", this.url, true);\n        request.send();\n    } catch (e) {\n        callbackCalled = callbackCalled || errorCallback();\n    }\n};\n\n","/**\n * ParameterParser - Parses the given parameters.\n * @param {string} queryString\n * @return {void}\n */\nfunction ParameterParser(queryString) {\n    var parameters,\n        match,\n        i;\n\n    this._queryString = queryString;\n    this._parameters = {};\n\n    if (queryString == null || /^\\s*$/.test(queryString)) {\n        return; // nothing to parse\n    }\n\n    parameters = queryString.split(\"&\");\n\n    for (i = 0; i < parameters.length; i++) {\n        match = /^(.*?)=(.*)$/.exec( parameters[i] );\n\n        if (!match) { // parameter is present, but has no value\n            this._parameters[ decodeURIComponent( parameters[i] ) ] = true;\n        }\n\n        this._parameters[ decodeURIComponent( match[1] ) ] = decodeURIComponent( match[2] );\n    }\n}\n\n/**\n * get - Gets the value of the given parameter, or the default\n * value if the parameter is not defined.\n * @param {string} name The name of the parameter.\n * @param {string} defaultValue The default value to return if the param is not defined.\n * @return {string}\n */\nParameterParser.prototype.get = function(name, defaultValue) {\n    var result = this._parameters[ name ];\n\n    if (typeof result == \"undefined\") {\n        return defaultValue;\n    }\n\n    return result;\n}\n","/**\n * UpdateNotifier - Notifies when updates were reported by the server.\n * @param {function} callback\n * @return {void}\n */\nfunction UpdateNotifier(callback) {\n    this.callback = callback;\n}\n\n/**\n * requestUpdatesFromServer - Requests the updates from the server.\n * @return {void}\n */\nUpdateNotifier.prototype.requestUpdatesFromServer = function() {\n    var m,\n        queryString,\n        hashString,\n        hostString,\n        queryParams,\n        hashParams,\n        host,\n        ajaxCall,\n        self = this;\n\n    /**\n     * Parse the parameters and find the fastLiveReloadHost string.\n     */\n    m = /^(.*?)\\/\\/(.*?)(\\:\\d+)?\\/.*?(\\?(.*?))?(\\#(.*))?$/.exec( document.location.href );\n    hostString = m[2];\n    queryString = m[5];\n    hashString = m[7];\n\n    queryParams = new ParameterParser(queryString);\n    hashParams =  new ParameterParser(hashString);\n\n    host = window.fastLiveReloadHost ? window.fastLiveReloadHost : (hostString + \":9001\");\n    host = queryParams.get(\"fastLiveReloadHost\", host);\n    host = hashParams.get(\"fastLiveReloadHost\", host);\n\n    /**\n     * Do the actual ajax call.\n     */\n    function loadUpdates() {\n        ajaxCall = new AjaxCall(\"http://\" + host + \"/?_cache=\" + new Date().getTime());\n        ajaxCall.execute(function(data) {\n            self.callback.call(null, data);\n            setTimeout(loadUpdates, 500);\n        }, function() {\n            // wait a bit so we don't always update in case the stuff is\n            // down.\n            setTimeout(loadUpdates, 500);\n            return true;\n        });\n    }\n\n    loadUpdates();\n}\n\n","\nnew UpdateNotifier(function(data) {\n    console.log(\"reload data\");\n    document.location.reload();\n}).requestUpdatesFromServer();\n\n","})();\n\n"]}